<!--
 * @Description: 
 * @version: 
 * @Author: 帅磊240108 2158097607@xiaomi.com
 * @Date: 2024-08-30 23:10:10
 * @LastEditors: ShuaiLei
 * @LastEditTime: 2024-08-31 22:46:14
-->
# 一、C++基础语法

## 1.1.main函数在执行之前和之后执行的代码可能是什么？
main函数在执行之前一般都会初始化系统相关资源

(1)设置栈指针
(2)初始化静态变量和全局变量
(3)将未初始化的全局变量赋初值
(4)全局对象初始化，在main之前调用构造函数
(5)将main函数参数传递给main函数

main函数执行之后

(1)全局对象的析构函数会在main函数之后执行

## 1.1.拓展
.data 段: 存储已初始化的全局和静态变量，初始值在程序开始运行时已经设置好
.bss 段: 存储未初始化的全局和静态变量，在程序启动时自动初始化为零。

## 1.2.结构体的内存对齐

### 1.2.1.内存对齐的优点

(1)提高内存访问速度
(2)减少内存访问的速度
(3)优化硬件性能
(4)减少编译器优化困难
(5)避免内存碎片

### 1.2.2.结构体内存对齐
结构体成员按声明顺序存储，第一个成员地址和结构体地址相同
没有特殊声明时，一般按照size最大的成员对齐

## 1.3.指针与引用的区别
（1）指针是一个变量，存储的是一个地址，引用跟原来的变量实质是一个东西，是别名

（2）指针可以为空，但是引用不能为空，而且引用在定义的时候必须要初始化，初始化后不可再改变

（3）sizeof指针得到的是指针的大小，sizeof引用得到的是引用所指向变量的大小

（4）不存在指向空值的引用，但存在指向空值的指针

## 1.4.关于传递参数使用引用还是指针

需要返回函数内部局部变量的时候用指针
对栈空间比较敏感的时候例如递归的时候选用引用
类对象作为参数传递的时候使用引用，这是C++类对象传递的标准方式


## 1.5.堆与栈的区别

申请方式不同：栈是由系统自动分配的，堆是自己申请和释放的

申请大小限制不同：栈顶和栈底是之前预设的，大小固定

申请效率不同：栈由系统分配，速度快，不会有碎片，堆由程序员分配，速度慢，会有碎片

分配方式：堆都是动态分配的，栈有静态分配和动态分配

空间大小：堆是不连续的内存区域，堆的空间比较大，比较灵活。栈是连续的内存区域，大小是操作系统预订好的

分配效率：堆由C++函数库提供，机制复杂，堆的效率比栈低很多。栈是系统提供的数据结构，计算机在底层对栈提供支持

## 1.6.堆快一点还是栈快一点

栈更快一点，操作系统对栈提供支持，会分配专门的寄存器存放地址，栈的出栈入栈也比较简单，有专门的指令执行，栈的效率比较高也比较快
堆的操作是C/C++函数库提供的，在分配内存的时候需要一定的算法寻找合适的内存

## 1.7.区别函数组指针、指针数组、函数声明、函数指针

~~~cpp
int *p[10]  // 指针数组
int (*p)[10]  // 数组指针
int *p(int)  // 函数声明
int (*p)(int) // 函数指针
~~~

## 1.8.new/delete以及malloc/free异同

相同点：
都用于内存的申请和释放

不同点：
（1）new和delete是C++的运算符，malloc和free是C语言标准库函数

（2）new是自动分配大小的，malloc需要手工计算，new是类型安全的，malloc不是的

## 1.9.new和delete是如何实现的

new实现的过程，
